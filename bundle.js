!function(t){function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var e={};n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=1)}([,function(t,n,e){"use strict";var r=e(2),i=e(3),o=new r.Calendar("TJ Maxx","jessephilip","google"),s=o.getCalendarId();console.log("newCalendar: ",o);var a=new i.CalendarEvent("TJ Smaxx","Bored",1,s,12,15);console.log("newEvent: "+a+". "+a.getEventId())},function(t,n,e){"use strict";var r=function(){function t(t,n,e,r){void 0===t&&(t="unknown"),void 0===n&&(n="unknown"),void 0===e&&(e="unknown"),void 0===r&&(r="blue");var i=this;this.getName=function(){return i.name},this.getCalendarId=function(){return i.calendarId},this.getCalendarUser=function(){return i.calendarUser},this.getType=function(){return i.type},this.getColor=function(){return i.color},this.getEvents=function(){return i.events},this.setName=function(t){i.name=t},this.setCalendarId=function(t){i.calendarId=t},this.setCalendarUser=function(t){i.calendarUser=t},this.setType=function(t){i.type=t},this.setColor=function(t){i.color=t},this.setEvents=function(t){i.events=t},this.createCalendarId=function(){for(var t="c",n=0;n<10;n++)t+=Math.floor(9*Math.random()).toString();return t+=Date.now().toString(),console.log("EventId: "+t),t},this.createMinutes=function(){for(var t,n=0;n<60;n++){var e={status:"",event:""};t.push(e)}return t},this.createHour=function(){return{minutes:i.createMinutes()}},this.name=t,this.calendarId=this.createCalendarId(),this.calendarUser=n,this.type=e,this.color=r}return t.prototype.addEvent=function(t){var n=this.getEvents();n.push(t),this.setEvents(n),console.log("Event added to "+this.name+" calendar.")},t.prototype.deleteEvent=function(t){for(var n=t.getEventId(),e=0;e<this.events.length;e++){if(t.getEventId()!=this.events[e].getEventId())return new Error("Error finding eventId "+n+" in "+this.name+".");this.events.splice(e)}return console.log("Event "+n+" removed from the events on calendar "+this.name+"."),!0},t}();n.Calendar=r},function(t,n,e){"use strict";var r=function(){function t(t,n,e,r,i,o){void 0===t&&(t="unknown"),void 0===n&&(n="unknown"),void 0===e&&(e=1),void 0===r&&(r="unknown");var s=this;this.getName=function(){return s.name},this.getDescription=function(){return s.description},this.getPriority=function(){return s.priority},this.getEventId=function(){return s.eventId},this.getCalendarId=function(){return s.calendarId},this.getStartTime=function(){return s.startTime},this.getEndTime=function(){return s.endTime},this.setName=function(t){s.name=t},this.setDescription=function(t){s.description=t},this.setPriority=function(t){s.priority=t},this.setCalendarId=function(t){s.calendarId=t},this.setStartTime=function(t){s.startTime=t},this.setEndTime=function(t){s.endTime=t},this.createEventId=function(){for(var t="e",n=0;n<10;n++)t+=Math.floor(9*Math.random()).toString();return t+=Date.now().toString(),console.log("EventId: "+t),t},this.name=t,this.description=n,this.priority=e,this.eventId=this.createEventId(),this.calendarId=r,this.startTime=i,this.endTime=o}return t}();n.CalendarEvent=r}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYnVuZGxlLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCAwMGNhZmM2Njc3NmQ2NGZkOWUwYiIsIndlYnBhY2s6Ly8vLi92aWV3L2Fzc2V0cy90eXBlc2NyaXB0L21hc3Rlci50cyIsIndlYnBhY2s6Ly8vLi92aWV3L2Fzc2V0cy90eXBlc2NyaXB0L0NhbGVuZGFyLnRzIiwid2VicGFjazovLy8uL3ZpZXcvYXNzZXRzL3R5cGVzY3JpcHQvQ2FsZW5kYXJFdmVudC50cyJdLCJuYW1lcyI6WyJtb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaW5zdGFsbGVkTW9kdWxlcyIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsImNhbGwiLCJtIiwiYyIsInZhbHVlIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJDYWxlbmRhcl8xIiwiQ2FsZW5kYXJFdmVudF8xIiwibmV3Q2FsZW5kYXIiLCJDYWxlbmRhciIsImNJZCIsImdldENhbGVuZGFySWQiLCJjb25zb2xlIiwibG9nIiwibmV3RXZlbnQiLCJDYWxlbmRhckV2ZW50IiwiZ2V0RXZlbnRJZCIsImNhbGVuZGFyVXNlciIsInR5cGUiLCJjb2xvciIsIl90aGlzIiwidGhpcyIsImdldE5hbWUiLCJjYWxlbmRhcklkIiwiZ2V0Q2FsZW5kYXJVc2VyIiwiZ2V0VHlwZSIsImdldENvbG9yIiwiZ2V0RXZlbnRzIiwiZXZlbnRzIiwic2V0TmFtZSIsInNldENhbGVuZGFySWQiLCJzZXRDYWxlbmRhclVzZXIiLCJzZXRUeXBlIiwic2V0Q29sb3IiLCJzZXRFdmVudHMiLCJjcmVhdGVDYWxlbmRhcklkIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwidG9TdHJpbmciLCJEYXRlIiwibm93IiwiY3JlYXRlTWludXRlcyIsIm1pbnV0ZUFycmF5IiwibmV3TWludXRlIiwic3RhdHVzIiwiZXZlbnQiLCJwdXNoIiwiY3JlYXRlSG91ciIsIm1pbnV0ZXMiLCJhZGRFdmVudCIsImRlbGV0ZUV2ZW50IiwiZXZlbnRJZCIsImxlbmd0aCIsIkVycm9yIiwic3BsaWNlIiwiZGVzY3JpcHRpb24iLCJwcmlvcml0eSIsInN0YXJ0VGltZSIsImVuZFRpbWUiLCJnZXREZXNjcmlwdGlvbiIsImdldFByaW9yaXR5IiwiZ2V0U3RhcnRUaW1lIiwiZ2V0RW5kVGltZSIsInNldERlc2NyaXB0aW9uIiwic2V0UHJpb3JpdHkiLCJzZXRTdGFydFRpbWUiLCJzZXRFbmRUaW1lIiwiY3JlYXRlRXZlbnRJZCJdLCJtYXBwaW5ncyI6IkNBQVMsU0FBVUEsR0NJbkIsUUFBQUMsR0FBQUMsR0FHQSxHQUFBQyxFQUFBRCxHQUNBLE1BQUFDLEdBQUFELEdBQUFFLE9BR0EsSUFBQUMsR0FBQUYsRUFBQUQsSUFDQUksRUFBQUosRUFDQUssR0FBQSxFQUNBSCxXQVVBLE9BTkFKLEdBQUFFLEdBQUFNLEtBQUFILEVBQUFELFFBQUFDLElBQUFELFFBQUFILEdBR0FJLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUF2QkEsR0FBQUQsS0E0QkFGLEdBQUFRLEVBQUFULEVBR0FDLEVBQUFTLEVBQUFQLEVBR0FGLEVBQUFLLEVBQUEsU0FBQUssR0FBMkMsTUFBQUEsSUFHM0NWLEVBQUFXLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQWIsRUFBQWMsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FDQUssY0FBQSxFQUNBQyxZQUFBLEVBQ0FDLElBQUFOLEtBTUFiLEVBQUFvQixFQUFBLFNBQUFoQixHQUNBLEdBQUFTLEdBQUFULEtBQUFpQixXQUNBLFdBQTJCLE1BQUFqQixHQUFBLFNBQzNCLFdBQWlDLE1BQUFBLEdBRWpDLE9BREFKLEdBQUFXLEVBQUFF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QUt1QyxRQUFVQSxHQU1YdEMsS0FBQStDLGNBQWdCLFdBTXBCLElBQUssR0FIRGhCLEdBQWtCLElBR2JyRSxFQUFJLEVBQUdBLEVBQUksR0FBSUEsSUFDcEJxRSxHQUFXaEIsS0FBS0MsTUFBc0IsRUFBaEJELEtBQUtFLFVBQWNDLFVBVTdDLE9BTkFhLElBQVdaLEtBQUtDLE1BQU1GLFdBR3RCM0IsUUFBUUMsSUFBSSxZQUFZdUMsR0FHakJBLEdBNUdQL0IsS0FBSy9CLEtBQU9BLEVBQ1orQixLQUFLbUMsWUFBY0EsRUFDbkJuQyxLQUFLb0MsU0FBV0EsRUFDaEJwQyxLQUFLK0IsUUFBVS9CLEtBQUsrQyxnQkFDcEIvQyxLQUFLRSxXQUFhQSxFQUNsQkYsS0FBS3FDLFVBQVlBLEVBQ2pCckMsS0FBS3NDLFFBQVVBLEVBNEd2QixNQUFBNUMsS0F0SGFsQyxHQUFBa0MiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0aTogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBpZGVudGl0eSBmdW5jdGlvbiBmb3IgY2FsbGluZyBoYXJtb255IGltcG9ydHMgd2l0aCB0aGUgY29ycmVjdCBjb250ZXh0XG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uaSA9IGZ1bmN0aW9uKHZhbHVlKSB7IHJldHVybiB2YWx1ZTsgfTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbi8qKioqKiovIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuLyoqKioqKi8gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuLyoqKioqKi8gXHRcdFx0XHRnZXQ6IGdldHRlclxuLyoqKioqKi8gXHRcdFx0fSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4vKioqKioqLyBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4vKioqKioqLyBcdFx0cmV0dXJuIGdldHRlcjtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEpO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqLyxcbi8qIDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vLyBXZWxjb21lIHRvIFR5cGVTY3JpcHQgU3RhcnRlclxyXG5cclxudmFyIENhbGVuZGFyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xyXG52YXIgQ2FsZW5kYXJFdmVudF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcclxudmFyIG5ld0NhbGVuZGFyID0gbmV3IENhbGVuZGFyXzEuQ2FsZW5kYXIoXCJUSiBNYXh4XCIsIFwiamVzc2VwaGlsaXBcIiwgXCJnb29nbGVcIik7XHJcbnZhciBjSWQgPSBuZXdDYWxlbmRhci5nZXRDYWxlbmRhcklkKCk7XHJcbmNvbnNvbGUubG9nKFwibmV3Q2FsZW5kYXI6IFwiLCBuZXdDYWxlbmRhcik7XHJcbnZhciBuZXdFdmVudCA9IG5ldyBDYWxlbmRhckV2ZW50XzEuQ2FsZW5kYXJFdmVudChcIlRKIFNtYXh4XCIsIFwiQm9yZWRcIiwgMSwgY0lkLCAxMiwgMTUpO1xyXG5jb25zb2xlLmxvZyhcIm5ld0V2ZW50OiBcIiArIG5ld0V2ZW50ICsgXCIuIFwiICsgbmV3RXZlbnQuZ2V0RXZlbnRJZCgpKTtcclxuXG5cbi8qKiovIH0pLFxuLyogMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG4vLyB0aGUgY2FsZW5kYXIgY2xhc3MgY3JlYXRlcyB0aGUgY2FsZW5kYXIsIGRheXMsIG1vbnRocywgeWVhcnMsIGV0Yy5cclxudmFyIENhbGVuZGFyID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIC8vIGJhc2ljIGNvbnN0cnVjdG9yXHJcbiAgICBmdW5jdGlvbiBDYWxlbmRhcihuYW1lLCBjYWxlbmRhclVzZXIsIHR5cGUsIGNvbG9yKSB7XHJcbiAgICAgICAgaWYgKG5hbWUgPT09IHZvaWQgMCkgeyBuYW1lID0gXCJ1bmtub3duXCI7IH1cclxuICAgICAgICBpZiAoY2FsZW5kYXJVc2VyID09PSB2b2lkIDApIHsgY2FsZW5kYXJVc2VyID0gXCJ1bmtub3duXCI7IH1cclxuICAgICAgICBpZiAodHlwZSA9PT0gdm9pZCAwKSB7IHR5cGUgPSBcInVua25vd25cIjsgfVxyXG4gICAgICAgIGlmIChjb2xvciA9PT0gdm9pZCAwKSB7IGNvbG9yID0gXCJibHVlXCI7IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIC8vIE1FVEhPRFMgLS0gR0VUVEVSUyAvL1xyXG4gICAgICAgIHRoaXMuZ2V0TmFtZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzLm5hbWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmdldENhbGVuZGFySWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5jYWxlbmRhcklkO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5nZXRDYWxlbmRhclVzZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5jYWxlbmRhclVzZXI7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmdldFR5cGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy50eXBlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5nZXRDb2xvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmNvbG9yO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5nZXRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5ldmVudHM7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBNRVRIT0RTIC0tIFNFVFRFUlMgLy9cclxuICAgICAgICB0aGlzLnNldE5hbWUgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgICAgICBfdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuc2V0Q2FsZW5kYXJJZCA9IGZ1bmN0aW9uIChjYWxlbmRhcklkKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmNhbGVuZGFySWQgPSBjYWxlbmRhcklkO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5zZXRDYWxlbmRhclVzZXIgPSBmdW5jdGlvbiAoY2FsZW5kYXJVc2VyKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmNhbGVuZGFyVXNlciA9IGNhbGVuZGFyVXNlcjtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuc2V0VHlwZSA9IGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnR5cGUgPSB0eXBlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5zZXRDb2xvciA9IGZ1bmN0aW9uIChjb2xvcikge1xyXG4gICAgICAgICAgICBfdGhpcy5jb2xvciA9IGNvbG9yO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5zZXRFdmVudHMgPSBmdW5jdGlvbiAoZXZlbnRzKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmV2ZW50cyA9IGV2ZW50cztcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIHRoaXMgbWV0aG9kIGNyZWF0ZXMgYSB1bmlxdWUgY2FsZW5kYXJJZC4gc3ludGF4IDxjPjxyYW5kb20gc2VxdWVuY2Ugb2YgMTAgbnVtYmVycz48dGltZXN0YW1wPlxyXG4gICAgICAgIHRoaXMuY3JlYXRlQ2FsZW5kYXJJZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gdmFyaWFibGUgdG8gaG9sZCBzdHJpbmdcclxuICAgICAgICAgICAgdmFyIGNhbGVuZGFySWQgPSBcImNcIjtcclxuICAgICAgICAgICAgLy8gYWRkIDEwIHJhbmRvbSBudW1iZXJzIHRvIHRoZSBldmVudElkIHN0cmluZ1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNhbGVuZGFySWQgKz0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogOSkudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBhZGQgdGhlIHRpbWVzdGFtcCB0byB0aGUgZXZlbnRJZFxyXG4gICAgICAgICAgICBjYWxlbmRhcklkICs9IERhdGUubm93KCkudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgLy8gc2hvdyB0aGUgZXZlbnRJZCBpbiB0aGUgY29uc29sZVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkV2ZW50SWQ6IFwiICsgY2FsZW5kYXJJZCk7XHJcbiAgICAgICAgICAgIC8vIHJldHVybiB0aGUgY29tcGxldGVkIGV2ZW50SWRcclxuICAgICAgICAgICAgcmV0dXJuIGNhbGVuZGFySWQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBjcmVhdGUgbWludXRlcyBpbiBhbiBob3VyLiA2MCBtaW51dHMgaW4gYW4gaG91ci5cclxuICAgICAgICAvLyBtaW51dGUgcHJvcHM6IHN0YXR1cyhvcGVuLCBidXN5KSwgZXZlbnQobmFtZSBvZiB0aGUgZXZlbnQsIGlmIGJ1c3kpXHJcbiAgICAgICAgdGhpcy5jcmVhdGVNaW51dGVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgbWludXRlQXJyYXk7XHJcbiAgICAgICAgICAgIC8vIGNyZWF0ZSBhbiBhcnJheSBvZiA2MCBtaW51dGVzXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNjA7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5ld01pbnV0ZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IFwiXCJcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBtaW51dGVBcnJheS5wdXNoKG5ld01pbnV0ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gcmV0dXJuIHRoZSBtaW51dGVBcnJheS4gYW4gYXJyYXkgb2YgNjAgbWludXRlIG9iamVjdHNcclxuICAgICAgICAgICAgcmV0dXJuIG1pbnV0ZUFycmF5O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5jcmVhdGVIb3VyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgaG91ciA9IHtcclxuICAgICAgICAgICAgICAgIG1pbnV0ZXM6IF90aGlzLmNyZWF0ZU1pbnV0ZXMoKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZXR1cm4gaG91cjtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5jYWxlbmRhcklkID0gdGhpcy5jcmVhdGVDYWxlbmRhcklkKCk7XHJcbiAgICAgICAgdGhpcy5jYWxlbmRhclVzZXIgPSBjYWxlbmRhclVzZXI7XHJcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcclxuICAgICAgICB0aGlzLmNvbG9yID0gY29sb3I7XHJcbiAgICB9XHJcbiAgICAvLyBNRVRIT0RTIC0tIEVWRU5UUyAvL1xyXG4gICAgLy8gbWV0aG9kIHRvIGFkZCBhIHNpbmdsZSBldmVudCB0byB0aGUgY2FsZW5kYXJcclxuICAgIENhbGVuZGFyLnByb3RvdHlwZS5hZGRFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIC8vIGdldCBldmVudHNcclxuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5nZXRFdmVudHMoKTtcclxuICAgICAgICAvLyBwdXNoIGV2ZW50IHRvIHRoZSBldmVudHMgYXJyYXlcclxuICAgICAgICBldmVudHMucHVzaChldmVudCk7XHJcbiAgICAgICAgdGhpcy5zZXRFdmVudHMoZXZlbnRzKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkV2ZW50IGFkZGVkIHRvIFwiICsgdGhpcy5uYW1lICsgXCIgY2FsZW5kYXIuXCIpO1xyXG4gICAgfTtcclxuICAgIENhbGVuZGFyLnByb3RvdHlwZS5kZWxldGVFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIC8vIGdldCBldmVudElkIGZyb20gYXJndW1lbnRcclxuICAgICAgICB2YXIgZXZlbnRJZCA9IGV2ZW50LmdldEV2ZW50SWQoKTtcclxuICAgICAgICAvLyBsb29wIHRocm91Z2ggZXZlbnRzIGFycmF5IHRvIGZpbmQgbWF0Y2hpbmcgZXZlbnRJZFxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ldmVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgLy8gaWYgYSBtYXRjaCBpcyByZXR1cm5lZCwgdGhlbiB0aGUgZXZlbnQgaXMgbG9jYXRlZCBhdCB0aGlzLmV2ZW50c1tpXVxyXG4gICAgICAgICAgICBpZiAoZXZlbnQuZ2V0RXZlbnRJZCgpID09IHRoaXMuZXZlbnRzW2ldLmdldEV2ZW50SWQoKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGVsZW1lbnQgZnJvbSB0aGUgYXJyYXlcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLnNwbGljZShpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoXCJFcnJvciBmaW5kaW5nIGV2ZW50SWQgXCIgKyBldmVudElkICsgXCIgaW4gXCIgKyB0aGlzLm5hbWUgKyBcIi5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJFdmVudCBcIiArIGV2ZW50SWQgKyBcIiByZW1vdmVkIGZyb20gdGhlIGV2ZW50cyBvbiBjYWxlbmRhciBcIiArIHRoaXMubmFtZSArIFwiLlwiKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQ2FsZW5kYXI7XHJcbn0oKSk7XHJcbmV4cG9ydHMuQ2FsZW5kYXIgPSBDYWxlbmRhcjtcclxuXG5cbi8qKiovIH0pLFxuLyogMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8vIHRoaXMgZmlsZSBjcmVhdGVzIGEgY2xhc3MgZm9yIGNhbGVuZGFyIGV2ZW50c1xyXG5cclxudmFyIENhbGVuZGFyRXZlbnQgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gYmFzaWMgY29uc3RydWN0b3JcclxuICAgIGZ1bmN0aW9uIENhbGVuZGFyRXZlbnQobmFtZSwgZGVzY3JpcHRpb24sIHByaW9yaXR5LCBjYWxlbmRhcklkLCBzdGFydFRpbWUsIGVuZFRpbWUpIHtcclxuICAgICAgICBpZiAobmFtZSA9PT0gdm9pZCAwKSB7IG5hbWUgPSBcInVua25vd25cIjsgfVxyXG4gICAgICAgIGlmIChkZXNjcmlwdGlvbiA9PT0gdm9pZCAwKSB7IGRlc2NyaXB0aW9uID0gXCJ1bmtub3duXCI7IH1cclxuICAgICAgICBpZiAocHJpb3JpdHkgPT09IHZvaWQgMCkgeyBwcmlvcml0eSA9IDE7IH1cclxuICAgICAgICBpZiAoY2FsZW5kYXJJZCA9PT0gdm9pZCAwKSB7IGNhbGVuZGFySWQgPSBcInVua25vd25cIjsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgLy8gTUVUSE9EUyAtLSBHRVRURVJTLy9cclxuICAgICAgICB0aGlzLmdldE5hbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5uYW1lO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5nZXREZXNjcmlwdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmRlc2NyaXB0aW9uO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5nZXRQcmlvcml0eSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnByaW9yaXR5O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5nZXRFdmVudElkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuZXZlbnRJZDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuZ2V0Q2FsZW5kYXJJZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmNhbGVuZGFySWQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmdldFN0YXJ0VGltZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnN0YXJ0VGltZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuZ2V0RW5kVGltZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmVuZFRpbWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBNRVRIT0RTIC0tIFNFVFRFUlMgLy9cclxuICAgICAgICB0aGlzLnNldE5hbWUgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgICAgICBfdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuc2V0RGVzY3JpcHRpb24gPSBmdW5jdGlvbiAoZGVzY3JpcHRpb24pIHtcclxuICAgICAgICAgICAgX3RoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuc2V0UHJpb3JpdHkgPSBmdW5jdGlvbiAocHJpb3JpdHkpIHtcclxuICAgICAgICAgICAgX3RoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuc2V0Q2FsZW5kYXJJZCA9IGZ1bmN0aW9uIChjYWxlbmRhcklkKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmNhbGVuZGFySWQgPSBjYWxlbmRhcklkO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5zZXRTdGFydFRpbWUgPSBmdW5jdGlvbiAoc3RhcnRUaW1lKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnN0YXJ0VGltZSA9IHN0YXJ0VGltZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuc2V0RW5kVGltZSA9IGZ1bmN0aW9uIChlbmRUaW1lKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmVuZFRpbWUgPSBlbmRUaW1lO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gTUVUSE9EUyAtLSBDUkVBVEUgLy9cclxuICAgICAgICAvLyB0aGlzIG1ldGhvZCBjcmVhdGVzIGEgdW5pcXVlIGV2ZW50SWQuIHN5bnRheCA8ZT48cmFuZG9tIHNlcXVlbmNlIG9mIDEwIG51bWJlcnM+PHRpbWVzdGFtcD5cclxuICAgICAgICB0aGlzLmNyZWF0ZUV2ZW50SWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIHZhcmlhYmxlIHRvIGhvbGQgc3RyaW5nXHJcbiAgICAgICAgICAgIHZhciBldmVudElkID0gXCJlXCI7XHJcbiAgICAgICAgICAgIC8vIGFkZCAxMCByYW5kb20gbnVtYmVycyB0byB0aGUgZXZlbnRJZCBzdHJpbmdcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudElkICs9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDkpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gYWRkIHRoZSB0aW1lc3RhbXAgdG8gdGhlIGV2ZW50SWRcclxuICAgICAgICAgICAgZXZlbnRJZCArPSBEYXRlLm5vdygpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIC8vIHNob3cgdGhlIGV2ZW50SWQgaW4gdGhlIGNvbnNvbGVcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJFdmVudElkOiBcIiArIGV2ZW50SWQpO1xyXG4gICAgICAgICAgICAvLyByZXR1cm4gdGhlIGNvbXBsZXRlZCBldmVudElkXHJcbiAgICAgICAgICAgIHJldHVybiBldmVudElkO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XHJcbiAgICAgICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xyXG4gICAgICAgIHRoaXMuZXZlbnRJZCA9IHRoaXMuY3JlYXRlRXZlbnRJZCgpO1xyXG4gICAgICAgIHRoaXMuY2FsZW5kYXJJZCA9IGNhbGVuZGFySWQ7XHJcbiAgICAgICAgdGhpcy5zdGFydFRpbWUgPSBzdGFydFRpbWU7XHJcbiAgICAgICAgdGhpcy5lbmRUaW1lID0gZW5kVGltZTtcclxuICAgIH1cclxuICAgIHJldHVybiBDYWxlbmRhckV2ZW50O1xyXG59KCkpO1xyXG5leHBvcnRzLkNhbGVuZGFyRXZlbnQgPSBDYWxlbmRhckV2ZW50O1xyXG5cblxuLyoqKi8gfSlcbi8qKioqKiovIF0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBidW5kbGUuanMiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gaWRlbnRpdHkgZnVuY3Rpb24gZm9yIGNhbGxpbmcgaGFybW9ueSBpbXBvcnRzIHdpdGggdGhlIGNvcnJlY3QgY29udGV4dFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5pID0gZnVuY3Rpb24odmFsdWUpIHsgcmV0dXJuIHZhbHVlOyB9O1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCAwMGNhZmM2Njc3NmQ2NGZkOWUwYiIsIi8vIFdlbGNvbWUgdG8gVHlwZVNjcmlwdCBTdGFydGVyXHJcblxyXG5pbXBvcnQgeyBDYWxlbmRhciB9IGZyb20gXCIuL0NhbGVuZGFyXCI7XHJcbmltcG9ydCB7IENhbGVuZGFyRXZlbnQgfSBmcm9tIFwiLi9DYWxlbmRhckV2ZW50XCI7XHJcblxyXG5sZXQgbmV3Q2FsZW5kYXI6IENhbGVuZGFyID0gbmV3IENhbGVuZGFyKFwiVEogTWF4eFwiLCBcImplc3NlcGhpbGlwXCIsIFwiZ29vZ2xlXCIpO1xyXG5cclxubGV0IGNJZDogc3RyaW5nID0gbmV3Q2FsZW5kYXIuZ2V0Q2FsZW5kYXJJZCgpO1xyXG5cclxuY29uc29sZS5sb2coXCJuZXdDYWxlbmRhcjogXCIsIG5ld0NhbGVuZGFyKTtcclxuXHJcbmxldCBuZXdFdmVudDogQ2FsZW5kYXJFdmVudCA9IG5ldyBDYWxlbmRhckV2ZW50KFwiVEogU21heHhcIiwgXCJCb3JlZFwiLCAxLCBjSWQsIDEyLCAxNSk7XHJcblxyXG5jb25zb2xlLmxvZyhgbmV3RXZlbnQ6ICR7bmV3RXZlbnR9LiAke25ld0V2ZW50LmdldEV2ZW50SWQoKX1gKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi92aWV3L2Fzc2V0cy90eXBlc2NyaXB0L21hc3Rlci50cyIsImltcG9ydCB7IENhbGVuZGFyRXZlbnQgfSBmcm9tIFwiLi9DYWxlbmRhckV2ZW50XCI7XHJcbmltcG9ydCB7IENhbGVuZGFyRXZlbnREZWZpbmUgfSBmcm9tIFwiLi9DYWxlbmRhckV2ZW50XCI7XHJcblxyXG4vLyB0aGUgY2FsZW5kYXIgY2xhc3MgY3JlYXRlcyB0aGUgY2FsZW5kYXIsIGRheXMsIG1vbnRocywgeWVhcnMsIGV0Yy5cclxuXHJcbmV4cG9ydCBjbGFzcyBDYWxlbmRhciB7XHJcblxyXG4gICAgLy8gYmFzaWMgY29uc3RydWN0b3JcclxuICAgIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZyA9IFwidW5rbm93blwiLCBjYWxlbmRhclVzZXI6IHN0cmluZyA9IFwidW5rbm93blwiLCB0eXBlOiBzdHJpbmcgPSBcInVua25vd25cIiwgY29sb3I6IHN0cmluZyA9IFwiYmx1ZVwiKSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLmNhbGVuZGFySWQgPSB0aGlzLmNyZWF0ZUNhbGVuZGFySWQoKTtcclxuICAgICAgICB0aGlzLmNhbGVuZGFyVXNlciA9IGNhbGVuZGFyVXNlcjtcclxuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xyXG4gICAgICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDTEFTUyBQUk9QRVJUSUVTIC8vXHJcblxyXG4gICAgLy8gdGhlIG5hbWUgb2YgdGhlIGNhbGVuZGFyXHJcbiAgICBwcml2YXRlIG5hbWU6IHN0cmluZztcclxuXHJcbiAgICAvLyB0aGUgaWQgb2YgdGhlIGNhbGVuZGFyXHJcbiAgICBwcml2YXRlIGNhbGVuZGFySWQ6IHN0cmluZztcclxuXHJcbiAgICAvLyB0aGUgY2FsZW5kYXIncyB1c2VyLiBUT0RPOiBmb3Igbm93LCBtYWtlIHRoZSB0eXBlIGEgc3RyaW5nLCBidXQgZXZlbnR1YWxseSBkZWNpZGUgd2hldGhlciBpdCBpcyB1c2VybmFtZSwgZW1haWwsIGlkLCBldGMuXHJcbiAgICBwcml2YXRlIGNhbGVuZGFyVXNlcjogc3RyaW5nO1xyXG5cclxuICAgIC8vIHRoZSB0eXBlIG9mIGNhbGVuZGFyLiBleGFtcGxlczogd29yaywgaG9tZSwgcHJpb3JpdHksIGV0Yy5cclxuICAgIHByaXZhdGUgdHlwZTogc3RyaW5nO1xyXG5cclxuICAgIC8vIGNvbG9yIGFzc29jaWF0ZWQgd2l0aCB0aGUgY2FsZW5kYXJcclxuICAgIHByaXZhdGUgY29sb3I6IHN0cmluZztcclxuXHJcbiAgICAvLyBhcnJheSB0byBob2xkIGV2ZW50cyBzY2hlZHVsZWQgaW4gdGhlIGNhbGVuZGFyXHJcbiAgICBwcml2YXRlIGV2ZW50czogQXJyYXk8Q2FsZW5kYXJFdmVudD47XHJcblxyXG4gICAgLy8gTUVUSE9EUyAtLSBHRVRURVJTIC8vXHJcblxyXG4gICAgcHVibGljIGdldE5hbWUgPSAoKTogc3RyaW5nID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRDYWxlbmRhcklkID0gKCk6IHN0cmluZyA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsZW5kYXJJZDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0Q2FsZW5kYXJVc2VyID0gKCk6IHN0cmluZyA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsZW5kYXJVc2VyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRUeXBlID0gKCk6IHN0cmluZyA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHlwZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0Q29sb3IgPSAoKTogc3RyaW5nID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb2xvcjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0RXZlbnRzID0gKCk6IEFycmF5PENhbGVuZGFyRXZlbnQ+ID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5ldmVudHM7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTUVUSE9EUyAtLSBTRVRURVJTIC8vXHJcblxyXG4gICAgcHVibGljIHNldE5hbWUgPSAobmFtZTogc3RyaW5nKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0Q2FsZW5kYXJJZCA9IChjYWxlbmRhcklkOiBzdHJpbmcpOiB2b2lkID0+IHtcclxuICAgICAgICB0aGlzLmNhbGVuZGFySWQgPSBjYWxlbmRhcklkO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHNldENhbGVuZGFyVXNlciA9IChjYWxlbmRhclVzZXI6IHN0cmluZyk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHRoaXMuY2FsZW5kYXJVc2VyID0gY2FsZW5kYXJVc2VyO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHNldFR5cGUgPSAodHlwZTogc3RyaW5nKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXRDb2xvciA9IChjb2xvcjogc3RyaW5nKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRFdmVudHMgPSAoZXZlbnRzOiBBcnJheTxDYWxlbmRhckV2ZW50Pik6IHZvaWQgPT4ge1xyXG4gICAgICAgIHRoaXMuZXZlbnRzID0gZXZlbnRzO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHRoaXMgbWV0aG9kIGNyZWF0ZXMgYSB1bmlxdWUgY2FsZW5kYXJJZC4gc3ludGF4IDxjPjxyYW5kb20gc2VxdWVuY2Ugb2YgMTAgbnVtYmVycz48dGltZXN0YW1wPlxyXG4gICAgcHJpdmF0ZSBjcmVhdGVDYWxlbmRhcklkID0gKCk6IHN0cmluZyA9PiB7XHJcblxyXG4gICAgICAgIC8vIHZhcmlhYmxlIHRvIGhvbGQgc3RyaW5nXHJcbiAgICAgICAgbGV0IGNhbGVuZGFySWQ6IHN0cmluZyA9IFwiY1wiO1xyXG5cclxuICAgICAgICAvLyBhZGQgMTAgcmFuZG9tIG51bWJlcnMgdG8gdGhlIGV2ZW50SWQgc3RyaW5nXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNhbGVuZGFySWQgKz0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogOSkudG9TdHJpbmcoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGFkZCB0aGUgdGltZXN0YW1wIHRvIHRoZSBldmVudElkXHJcbiAgICAgICAgY2FsZW5kYXJJZCArPSBEYXRlLm5vdygpLnRvU3RyaW5nKCk7XHJcblxyXG4gICAgICAgIC8vIHNob3cgdGhlIGV2ZW50SWQgaW4gdGhlIGNvbnNvbGVcclxuICAgICAgICBjb25zb2xlLmxvZyhgRXZlbnRJZDogJHtjYWxlbmRhcklkfWApO1xyXG5cclxuICAgICAgICAvLyByZXR1cm4gdGhlIGNvbXBsZXRlZCBldmVudElkXHJcbiAgICAgICAgcmV0dXJuIGNhbGVuZGFySWQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTUVUSE9EUyAtLSBFVkVOVFMgLy9cclxuXHJcbiAgICAvLyBtZXRob2QgdG8gYWRkIGEgc2luZ2xlIGV2ZW50IHRvIHRoZSBjYWxlbmRhclxyXG4gICAgcHVibGljIGFkZEV2ZW50KGV2ZW50OiBDYWxlbmRhckV2ZW50KTogdm9pZCB7XHJcblxyXG4gICAgICAgIC8vIGdldCBldmVudHNcclxuICAgICAgICBsZXQgZXZlbnRzID0gdGhpcy5nZXRFdmVudHMoKTtcclxuXHJcbiAgICAgICAgLy8gcHVzaCBldmVudCB0byB0aGUgZXZlbnRzIGFycmF5XHJcbiAgICAgICAgZXZlbnRzLnB1c2goZXZlbnQpO1xyXG5cclxuICAgICAgICB0aGlzLnNldEV2ZW50cyhldmVudHMpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhgRXZlbnQgYWRkZWQgdG8gJHt0aGlzLm5hbWV9IGNhbGVuZGFyLmApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZWxldGVFdmVudChldmVudDogQ2FsZW5kYXJFdmVudCkge1xyXG5cclxuICAgICAgICAvLyBnZXQgZXZlbnRJZCBmcm9tIGFyZ3VtZW50XHJcbiAgICAgICAgbGV0IGV2ZW50SWQgPSBldmVudC5nZXRFdmVudElkKCk7XHJcblxyXG4gICAgICAgIC8vIGxvb3AgdGhyb3VnaCBldmVudHMgYXJyYXkgdG8gZmluZCBtYXRjaGluZyBldmVudElkXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmV2ZW50cy5sZW5ndGg7IGkrKykge1xyXG5cclxuICAgICAgICAgICAgLy8gaWYgYSBtYXRjaCBpcyByZXR1cm5lZCwgdGhlbiB0aGUgZXZlbnQgaXMgbG9jYXRlZCBhdCB0aGlzLmV2ZW50c1tpXVxyXG4gICAgICAgICAgICBpZiAoZXZlbnQuZ2V0RXZlbnRJZCgpID09IHRoaXMuZXZlbnRzW2ldLmdldEV2ZW50SWQoKSkge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBlbGVtZW50IGZyb20gdGhlIGFycmF5XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5zcGxpY2UoaSk7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoYEVycm9yIGZpbmRpbmcgZXZlbnRJZCAke2V2ZW50SWR9IGluICR7dGhpcy5uYW1lfS5gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coYEV2ZW50ICR7ZXZlbnRJZH0gcmVtb3ZlZCBmcm9tIHRoZSBldmVudHMgb24gY2FsZW5kYXIgJHt0aGlzLm5hbWV9LmApO1xyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICAvLyBjcmVhdGUgbWludXRlcyBpbiBhbiBob3VyLiA2MCBtaW51dHMgaW4gYW4gaG91ci5cclxuICAgIC8vIG1pbnV0ZSBwcm9wczogc3RhdHVzKG9wZW4sIGJ1c3kpLCBldmVudChuYW1lIG9mIHRoZSBldmVudCwgaWYgYnVzeSlcclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlTWludXRlcyA9ICgpID0+IHtcclxuICAgICAgICBpbnRlcmZhY2UgbWludXRlIHtcclxuICAgICAgICAgICAgc3RhdHVzOiBzdHJpbmcsXHJcbiAgICAgICAgICAgIGV2ZW50OiBzdHJpbmdcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBtaW51dGVBcnJheTogQXJyYXk8bWludXRlPjtcclxuXHJcbiAgICAgICAgLy8gY3JlYXRlIGFuIGFycmF5IG9mIDYwIG1pbnV0ZXNcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDYwOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IG5ld01pbnV0ZSA9IHtcclxuICAgICAgICAgICAgICAgIHN0YXR1czogXCJcIixcclxuICAgICAgICAgICAgICAgIGV2ZW50OiBcIlwiXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBtaW51dGVBcnJheS5wdXNoKG5ld01pbnV0ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyByZXR1cm4gdGhlIG1pbnV0ZUFycmF5LiBhbiBhcnJheSBvZiA2MCBtaW51dGUgb2JqZWN0c1xyXG4gICAgICAgIHJldHVybiBtaW51dGVBcnJheTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlSG91ciA9ICgpID0+IHtcclxuICAgICAgICBsZXQgaG91ciA9IHtcclxuICAgICAgICAgICAgbWludXRlczogdGhpcy5jcmVhdGVNaW51dGVzKClcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4gaG91cjtcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3ZpZXcvYXNzZXRzL3R5cGVzY3JpcHQvQ2FsZW5kYXIudHMiLCIvLyB0aGlzIGZpbGUgY3JlYXRlcyBhIGNsYXNzIGZvciBjYWxlbmRhciBldmVudHNcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ2FsZW5kYXJFdmVudERlZmluZSB7XHJcbiAgICBuYW1lOiBzdHJpbmcsXHJcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nLFxyXG4gICAgcHJpb3JpdHk6IG51bWJlcixcclxuICAgIGNhbGVuZGFySWQ6IHN0cmluZyxcclxuICAgIHN0YXJ0VGltZTogYW55LFxyXG4gICAgZW5kVGltZTogYW55XHJcblxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FsZW5kYXJFdmVudCB7XHJcblxyXG4gICAgLy8gYmFzaWMgY29uc3RydWN0b3JcclxuICAgIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZyA9IFwidW5rbm93blwiLCBkZXNjcmlwdGlvbjogc3RyaW5nID0gXCJ1bmtub3duXCIsIHByaW9yaXR5OiBudW1iZXIgPSAxLCBjYWxlbmRhcklkOiBzdHJpbmcgPSBcInVua25vd25cIiwgc3RhcnRUaW1lOiBhbnksIGVuZFRpbWU6IGFueSkge1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xyXG4gICAgICAgIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcclxuICAgICAgICB0aGlzLmV2ZW50SWQgPSB0aGlzLmNyZWF0ZUV2ZW50SWQoKTtcclxuICAgICAgICB0aGlzLmNhbGVuZGFySWQgPSBjYWxlbmRhcklkO1xyXG4gICAgICAgIHRoaXMuc3RhcnRUaW1lID0gc3RhcnRUaW1lO1xyXG4gICAgICAgIHRoaXMuZW5kVGltZSA9IGVuZFRpbWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR0xPQkFMIFBST1BFUlRJRVMgLy9cclxuXHJcbiAgICAvLyBuYW1lIG9mIHRoZSBldmVudFxyXG4gICAgcHJpdmF0ZSBuYW1lOiBzdHJpbmc7XHJcblxyXG4gICAgLy8gZGVzY3JpcHRpb24gb2YgdGhlIGV2ZW50XHJcbiAgICBwcml2YXRlIGRlc2NyaXB0aW9uOiBzdHJpbmc7XHJcblxyXG4gICAgLy8gcHJpb3JpdHkgb2YgdGhlIGV2ZW50XHJcbiAgICBwcml2YXRlIHByaW9yaXR5OiBudW1iZXI7XHJcblxyXG4gICAgLy8gaWQgb2YgZXZlbnRcclxuICAgIHByaXZhdGUgZXZlbnRJZDogc3RyaW5nO1xyXG5cclxuICAgIC8vIGNhbGVuZGFyIGxpbmtlZCB0byB0aGUgZXZlbnRcclxuICAgIHByaXZhdGUgY2FsZW5kYXJJZDogc3RyaW5nO1xyXG5cclxuICAgIC8vIHN0YXJ0IHRpbWUgb2YgdGhlIGV2ZW50LiB0YWtlcyBkYXRlIG9iamVjdFxyXG4gICAgcHJpdmF0ZSBzdGFydFRpbWU6IGFueTtcclxuXHJcbiAgICAvLyBlbmQgdGltZSBvZiB0aGUgZXZlbnQuIHRha2VzIGRhdGUgb2JqZWN0XHJcbiAgICBwcml2YXRlIGVuZFRpbWU6IGFueTtcclxuXHJcbiAgICAvLyBNRVRIT0RTIC0tIEdFVFRFUlMvL1xyXG5cclxuICAgIHB1YmxpYyBnZXROYW1lID0gKCk6IHN0cmluZyA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0RGVzY3JpcHRpb24gPSAoKTogc3RyaW5nID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kZXNjcmlwdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0UHJpb3JpdHkgPSAoKTogbnVtYmVyID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wcmlvcml0eTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0RXZlbnRJZCA9ICgpOiBzdHJpbmcgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmV2ZW50SWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldENhbGVuZGFySWQgPSAoKTogc3RyaW5nID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jYWxlbmRhcklkO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRTdGFydFRpbWUgPSAoKTogYW55ID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zdGFydFRpbWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEVuZFRpbWUgPSAoKTogYW55ID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5lbmRUaW1lO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE1FVEhPRFMgLS0gU0VUVEVSUyAvL1xyXG5cclxuICAgIHB1YmxpYyBzZXROYW1lID0gKG5hbWU6IHN0cmluZyk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldERlc2NyaXB0aW9uID0gKGRlc2NyaXB0aW9uOiBzdHJpbmcpOiB2b2lkID0+IHtcclxuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFByaW9yaXR5ID0gKHByaW9yaXR5OiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgICAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldENhbGVuZGFySWQgPSAoY2FsZW5kYXJJZDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgdGhpcy5jYWxlbmRhcklkID0gY2FsZW5kYXJJZDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0U3RhcnRUaW1lID0gKHN0YXJ0VGltZTogYW55KSA9PiB7XHJcbiAgICAgICAgdGhpcy5zdGFydFRpbWUgPSBzdGFydFRpbWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldEVuZFRpbWUgPSAoZW5kVGltZTogYW55KSA9PiB7XHJcbiAgICAgICAgdGhpcy5lbmRUaW1lID0gZW5kVGltZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBNRVRIT0RTIC0tIENSRUFURSAvL1xyXG5cclxuICAgIC8vIHRoaXMgbWV0aG9kIGNyZWF0ZXMgYSB1bmlxdWUgZXZlbnRJZC4gc3ludGF4IDxlPjxyYW5kb20gc2VxdWVuY2Ugb2YgMTAgbnVtYmVycz48dGltZXN0YW1wPlxyXG4gICAgcHJpdmF0ZSBjcmVhdGVFdmVudElkID0gKCk6IHN0cmluZyA9PiB7XHJcblxyXG4gICAgICAgIC8vIHZhcmlhYmxlIHRvIGhvbGQgc3RyaW5nXHJcbiAgICAgICAgbGV0IGV2ZW50SWQ6IHN0cmluZyA9IFwiZVwiO1xyXG5cclxuICAgICAgICAvLyBhZGQgMTAgcmFuZG9tIG51bWJlcnMgdG8gdGhlIGV2ZW50SWQgc3RyaW5nXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGV2ZW50SWQgKz0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogOSkudG9TdHJpbmcoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGFkZCB0aGUgdGltZXN0YW1wIHRvIHRoZSBldmVudElkXHJcbiAgICAgICAgZXZlbnRJZCArPSBEYXRlLm5vdygpLnRvU3RyaW5nKCk7XHJcblxyXG4gICAgICAgIC8vIHNob3cgdGhlIGV2ZW50SWQgaW4gdGhlIGNvbnNvbGVcclxuICAgICAgICBjb25zb2xlLmxvZyhgRXZlbnRJZDogJHtldmVudElkfWApO1xyXG5cclxuICAgICAgICAvLyByZXR1cm4gdGhlIGNvbXBsZXRlZCBldmVudElkXHJcbiAgICAgICAgcmV0dXJuIGV2ZW50SWQ7XHJcblxyXG5cclxuXHJcbiAgICB9XHJcblxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3ZpZXcvYXNzZXRzL3R5cGVzY3JpcHQvQ2FsZW5kYXJFdmVudC50cyJdLCJzb3VyY2VSb290IjoiIn0=